# Bhasa AST Documentation

## Table of Contents

1. [Overview](#overview)
2. [Core Interfaces](#core-interfaces)
3. [Program Structure](#program-structure)
4. [Statements](#statements)
5. [Expressions](#expressions)
6. [Type System](#type-system)
7. [Struct and Enum Support](#struct-and-enum-support)
8. [Object-Oriented Programming Features](#object-oriented-programming-features)
9. [Bengali Keywords Reference](#bengali-keywords-reference)

---

## Overview

The Abstract Syntax Tree (AST) is the core data structure that represents the parsed structure of Bhasa programs. The AST is built by the parser from tokens generated by the lexer, and is then evaluated by the evaluator or compiled by the compiler.

### Design Principles

- **Node-based hierarchy**: Every AST element implements the `Node` interface
- **Type safety**: Distinct types for statements vs expressions
- **String representation**: Every node can be converted back to source code via `String()`
- **Token preservation**: Each node retains its originating token for error reporting

---

## Core Interfaces

### Node Interface

The base interface that all AST nodes must implement:

```go
type Node interface {
    TokenLiteral() string  // Returns the literal value of the node's token
    String() string        // Returns a string representation of the node
}
```

### Statement Interface

Represents executable statements that don't return values:

```go
type Statement interface {
    Node
    statementNode()  // Marker method for type safety
}
```

**Examples**: Variable declarations, return statements, loops, assignments

### Expression Interface

Represents expressions that evaluate to values:

```go
type Expression interface {
    Node
    expressionNode()  // Marker method for type safety
}
```

**Examples**: Literals, identifiers, function calls, arithmetic operations

---

## Program Structure

### Program

The root node of every AST. Contains a list of statements that make up the entire program.

```go
type Program struct {
    Statements []Statement
}
```

**Example Bhasa Code**:
```bhasa
ধরি x = 5;
ধরি y = 10;
দেখাও(x + y);
```

---

## Statements

### LetStatement

Represents variable declarations using the `ধরি` (dhari - "let") keyword.

```go
type LetStatement struct {
    Token      token.Token      // the ধরি token
    Name       *Identifier      // variable name
    TypeAnnot  *TypeAnnotation  // optional type annotation
    Value      Expression       // initial value
}
```

**Examples**:

```bhasa
// Simple declaration
ধরি x = 5;

// With type annotation
ধরি নাম: লেখা = "বাংলা";

// With complex type
ধরি সংখ্যা_তালিকা: তালিকা<পূর্ণসংখ্যা> = [1, 2, 3];
```

**String Output**: `ধরি x: পূর্ণসংখ্যা = 5;`

---

### ReturnStatement

Represents return statements using the `ফেরত` (pherat - "return") keyword.

```go
type ReturnStatement struct {
    Token       token.Token  // the ফেরত token
    ReturnValue Expression   // value to return
}
```

**Example**:

```bhasa
ফাংশন যোগ(a, b) {
    ফেরত a + b;
}
```

---

### ExpressionStatement

Wraps expressions that appear as statements (e.g., function calls).

```go
type ExpressionStatement struct {
    Token      token.Token  // first token of expression
    Expression Expression   // the expression
}
```

**Example**:

```bhasa
দেখাও("হ্যালো");  // Function call as statement
x + 5;          // Expression as statement (though not useful)
```

---

### AssignmentStatement

Represents variable reassignment (not declaration).

```go
type AssignmentStatement struct {
    Token token.Token  // identifier token
    Name  *Identifier  // variable name
    Value Expression   // new value
}
```

**Example**:

```bhasa
ধরি x = 5;
x = 10;  // AssignmentStatement
```

---

### ImportStatement

Represents module imports using the `অন্তর্ভুক্ত` (antorbhukto - "include") keyword.

```go
type ImportStatement struct {
    Token token.Token  // অন্তর্ভুক্ত token
    Path  Expression   // module path (string literal)
}
```

**Example**:

```bhasa
অন্তর্ভুক্ত "গণিত";
অন্তর্ভুক্ত "ফাইল/পথ";
```

---

### BlockStatement

Represents a block of statements enclosed in braces `{}`.

```go
type BlockStatement struct {
    Token      token.Token  // { token
    Statements []Statement  // statements in block
}
```

**Example**:

```bhasa
{
    ধরি x = 5;
    ধরি y = 10;
    দেখাও(x + y);
}
```

---

### WhileStatement

Represents while loops using the `যতক্ষণ` (jotokhon - "while") keyword.

```go
type WhileStatement struct {
    Token     token.Token      // যতক্ষণ token
    Condition Expression       // loop condition
    Body      *BlockStatement  // loop body
}
```

**Example**:

```bhasa
ধরি i = 0;
যতক্ষণ (i < 10) {
    দেখাও(i);
    i = i + 1;
}
```

---

### ForStatement

Represents for loops using the `পর্যন্ত` (porjonto - "until/for") keyword.

```go
type ForStatement struct {
    Token       token.Token      // পর্যন্ত token
    Init        Statement        // initialization
    Condition   Expression       // loop condition
    Increment   Statement        // increment statement
    Body        *BlockStatement  // loop body
}
```

**Example**:

```bhasa
পর্যন্ত (ধরি i = 0; i < 10; i = i + 1) {
    দেখাও(i);
}
```

---

### BreakStatement

Represents break statements using the `বিরতি` (biroти - "break") keyword.

```go
type BreakStatement struct {
    Token token.Token  // বিরতি token
}
```

**Example**:

```bhasa
যতক্ষণ (সত্য) {
    যদি (x > 10) {
        বিরতি;
    }
    x = x + 1;
}
```

---

### ContinueStatement

Represents continue statements using the `চালিয়ে_যাও` (chaliye_jao - "continue") keyword.

```go
type ContinueStatement struct {
    Token token.Token  // চালিয়ে_যাও token
}
```

**Example**:

```bhasa
পর্যন্ত (ধরি i = 0; i < 10; i = i + 1) {
    যদি (i % 2 == 0) {
        চালিয়ে_যাও;
    }
    দেখাও(i);
}
```

---

### MemberAssignmentStatement

Represents assigning to a struct or class field.

```go
type MemberAssignmentStatement struct {
    Token  token.Token  // identifier token
    Object Expression   // struct/class instance
    Member *Identifier  // field name
    Value  Expression   // new value
}
```

**Example**:

```bhasa
ব্যক্তি.নাম = "নতুন নাম";
person.age = 30;
```

---

## Expressions

### Identifier

Represents variable and function names.

```go
type Identifier struct {
    Token token.Token  // IDENT token
    Value string       // identifier name
}
```

**Example**: `x`, `নাম`, `myFunction`

---

### IntegerLiteral

Represents integer numbers.

```go
type IntegerLiteral struct {
    Token token.Token  // INT token
    Value int64        // numeric value
}
```

**Example**: `42`, `0`, `-15`

---

### StringLiteral

Represents string values.

```go
type StringLiteral struct {
    Token token.Token  // STRING token
    Value string       // string content
}
```

**Example**: `"হ্যালো বিশ্ব"`, `"Hello World"`

---

### Boolean

Represents boolean values using `সত্য` (satya - "true") and `মিথ্যা` (mithya - "false").

```go
type Boolean struct {
    Token token.Token  // TRUE/FALSE token
    Value bool         // boolean value
}
```

**Example**: `সত্য`, `মিথ্যা`

---

### PrefixExpression

Represents prefix operators (!, -, etc.).

```go
type PrefixExpression struct {
    Token    token.Token  // prefix operator token
    Operator string       // operator symbol
    Right    Expression   // operand
}
```

**Examples**:

```bhasa
!সত্য      // NOT true
-5        // Negative 5
!x        // NOT x
```

**String Output**: `(!সত্য)`, `(-5)`

---

### InfixExpression

Represents binary operators (+, -, *, /, ==, !=, <, >, etc.).

```go
type InfixExpression struct {
    Token    token.Token  // operator token
    Left     Expression   // left operand
    Operator string       // operator symbol
    Right    Expression   // right operand
}
```

**Examples**:

```bhasa
5 + 3
x * y
a == b
value > 10
```

**String Output**: `(5 + 3)`, `(x * y)`

---

### IfExpression

Represents if-else conditionals using `যদি` (jodi - "if") and `নাহলে` (nahole - "else").

```go
type IfExpression struct {
    Token       token.Token      // যদি token
    Condition   Expression       // condition to test
    Consequence *BlockStatement  // if block
    Alternative *BlockStatement  // else block (optional)
}
```

**Examples**:

```bhasa
// Simple if
যদি (x > 5) {
    দেখাও("বড়");
}

// If-else
যদি (x > 5) {
    দেখাও("বড়");
} নাহলে {
    দেখাও("ছোট");
}
```

---

### FunctionLiteral

Represents function definitions using the `ফাংশন` (phanshan - "function") keyword.

```go
type FunctionLiteral struct {
    Token          token.Token        // ফাংশন token
    Parameters     []*Identifier      // parameter names
    ParameterTypes []*TypeAnnotation  // parameter types (optional)
    ReturnType     *TypeAnnotation    // return type (optional)
    Body           *BlockStatement    // function body
}
```

**Examples**:

```bhasa
// Simple function
ফাংশন(x, y) {
    ফেরত x + y;
}

// With type annotations
ফাংশন(x: পূর্ণসংখ্যা, y: পূর্ণসংখ্যা): পূর্ণসংখ্যা {
    ফেরত x + y;
}

// Named function (via LetStatement)
ধরি যোগ = ফাংশন(a, b) {
    ফেরত a + b;
};
```

---

### CallExpression

Represents function calls.

```go
type CallExpression struct {
    Token     token.Token   // ( token
    Function  Expression    // function to call
    Arguments []Expression  // call arguments
}
```

**Examples**:

```bhasa
যোগ(5, 3)
দেখাও("হ্যালো")
ফাংশন(x) { ফেরত x * 2; }(5)  // IIFE
```

**String Output**: `যোগ(5, 3)`

---

### ArrayLiteral

Represents array literals.

```go
type ArrayLiteral struct {
    Token    token.Token   // [ token
    Elements []Expression  // array elements
}
```

**Examples**:

```bhasa
[1, 2, 3, 4, 5]
["একটি", "দুটি", "তিনটি"]
[ফাংশন(x) { ফেরত x; }, ফাংশন(y) { ফেরত y * 2; }]
```

**String Output**: `[1, 2, 3, 4, 5]`

---

### IndexExpression

Represents array/hash indexing.

```go
type IndexExpression struct {
    Token token.Token  // [ token
    Left  Expression   // array/hash
    Index Expression   // index/key
}
```

**Examples**:

```bhasa
array[0]
hash["key"]
matrix[i][j]
```

**String Output**: `(array[0])`

---

### HashLiteral

Represents hash map/dictionary literals.

```go
type HashLiteral struct {
    Token token.Token               // { token
    Pairs map[Expression]Expression // key-value pairs
}
```

**Examples**:

```bhasa
{"নাম": "রহিম", "বয়স": 30}
{1: "এক", 2: "দুই", 3: "তিন"}
```

**String Output**: `{"নাম":"রহিম", "বয়স":30}`

---

## Type System

### TypeAnnotation

Represents type annotations for variables, parameters, and return types.

```go
type TypeAnnotation struct {
    Token       token.Token      // type token
    TypeName    string           // type name
    ElementType *TypeAnnotation  // for arrays/hashes
    KeyType     *TypeAnnotation  // for hash key types
}
```

**Built-in Types** (Bengali):

- `পূর্ণসংখ্যা` (purnosongkha) - integer
- `দশমিক` (doshomik) - float
- `লেখা` (lekha) - string
- `বুলিয়ান` (boolean) - boolean
- `বাইট` (byte) - byte
- `তালিকা` (talika) - array/list
- `ম্যাপ` (map) - hash map

**Examples**:

```bhasa
// Simple types
ধরি x: পূর্ণসংখ্যা = 5;
ধরি নাম: লেখা = "বাংলা";

// Array types
ধরি সংখ্যা: তালিকা<পূর্ণসংখ্যা> = [1, 2, 3];

// Hash types
ধরি ডিকশনারি: ম্যাপ<লেখা, পূর্ণসংখ্যা> = {"এক": 1};

// Function types
ধরি যোগ: ফাংশন(পূর্ণসংখ্যা, পূর্ণসংখ্যা): পূর্ণসংখ্যা = ফাংশন(a, b) {
    ফেরত a + b;
};
```

**String Output**: 
- Simple: `পূর্ণসংখ্যা`
- Array: `তালিকা<পূর্ণসংখ্যা>`
- Hash: `ম্যাপ<লেখা, পূর্ণসংখ্যা>`

---

### TypedIdentifier

Represents an identifier with its type annotation.

```go
type TypedIdentifier struct {
    Token     token.Token      // identifier token
    Name      string           // identifier name
    TypeAnnot *TypeAnnotation  // type (optional)
}
```

**Example**: Used internally for typed parameters and fields.

---

### TypeCastExpression

Represents explicit type casting using `as` keyword.

```go
type TypeCastExpression struct {
    Token      token.Token      // 'as' token
    Expression Expression       // expression to cast
    TargetType *TypeAnnotation  // target type
}
```

**Example**:

```bhasa
ধরি x = 5;
ধরি y = x as দশমিক;  // Cast integer to float
```

**String Output**: `(x as দশমিক)`

---

## Struct and Enum Support

### StructField

Represents a field in a struct definition.

```go
type StructField struct {
    Name      string           // field name
    TypeAnnot *TypeAnnotation  // field type
}
```

---

### StructDefinition

Represents struct type definitions using the `স্ট্রাক্ট` (struct) keyword.

```go
type StructDefinition struct {
    Token  token.Token    // স্ট্রাক্ট token
    Name   *Identifier    // struct type name
    Fields []*StructField // ordered fields
}
```

**Example**:

```bhasa
ধরি ব্যক্তি = স্ট্রাক্ট {
    নাম: লেখা,
    বয়স: পূর্ণসংখ্যা,
    ঠিকানা: লেখা
};
```

**String Output**: `স্ট্রাক্ট {নাম: লেখা, বয়স: পূর্ণসংখ্যা, ঠিকানা: লেখা}`

---

### StructLiteral

Represents creating a struct instance.

```go
type StructLiteral struct {
    Token      token.Token            // { token
    StructType *Identifier            // struct type name
    Fields     map[string]Expression  // field values
    FieldOrder []string               // preserve field order
}
```

**Example**:

```bhasa
ধরি ব্যক্তি_১ = ব্যক্তি{
    নাম: "রহিম",
    বয়স: 30,
    ঠিকানা: "ঢাকা"
};
```

**String Output**: `ব্যক্তি{নাম: "রহিম", বয়স: 30, ঠিকানা: "ঢাকা"}`

---

### MemberAccessExpression

Represents accessing struct/class fields using dot notation.

```go
type MemberAccessExpression struct {
    Token  token.Token  // . token
    Object Expression   // struct/class instance
    Member *Identifier  // field/method name
}
```

**Examples**:

```bhasa
ব্যক্তি.নাম
person.age
this.field
```

**String Output**: `(ব্যক্তি.নাম)`

---

### EnumVariant

Represents a single variant in an enum.

```go
type EnumVariant struct {
    Name  string  // variant name
    Value *int    // explicit value (optional)
}
```

---

### EnumDefinition

Represents enum type definitions using the `গণনা` (gonona - "enum") keyword.

```go
type EnumDefinition struct {
    Token    token.Token     // গণনা token
    Name     *Identifier     // enum type name
    Variants []*EnumVariant  // ordered variants
}
```

**Examples**:

```bhasa
// Simple enum
ধরি দিক = গণনা {
    উত্তর,
    দক্ষিণ,
    পূর্ব,
    পশ্চিম
};

// With explicit values
ধরি রঙ = গণনা {
    লাল = 1,
    সবুজ = 2,
    নীল = 3
};
```

**String Output**: `গণনা {উত্তর, দক্ষিণ, পূর্ব, পশ্চিম}`

---

### EnumValue

Represents accessing an enum variant.

```go
type EnumValue struct {
    Token       token.Token  // enum type token
    EnumType    *Identifier  // enum type name
    VariantName *Identifier  // variant name
}
```

**Example**:

```bhasa
ধরি my_direction = দিক.উত্তর;
যদি (direction == দিক.দক্ষিণ) {
    দেখাও("দক্ষিণ দিকে");
}
```

**String Output**: `দিক.উত্তর`

---

## Object-Oriented Programming Features

### AccessModifier

Represents access control levels.

```go
type AccessModifier string

const (
    PUBLIC    AccessModifier = "সার্বজনীন"  // public
    PRIVATE   AccessModifier = "ব্যক্তিগত"  // private
    PROTECTED AccessModifier = "সুরক্ষিত"   // protected
)
```

---

### ClassField

Represents a field in a class definition.

```go
type ClassField struct {
    Name      string           // field name
    TypeAnnot *TypeAnnotation  // field type
    Access    AccessModifier   // access level
    IsStatic  bool             // স্থির (static)
    IsFinal   bool             // চূড়ান্ত (final/const)
}
```

**Example**:

```bhasa
সার্বজনীন নাম: লেখা;
ব্যক্তিগত বয়স: পূর্ণসংখ্যা;
স্থির গণনা: পূর্ণসংখ্যা = 0;
চূড়ান্ত সর্বোচ্চ: পূর্ণসংখ্যা = 100;
```

---

### MethodDefinition

Represents a method in a class using the `পদ্ধতি` (poddhoti - "method") keyword.

```go
type MethodDefinition struct {
    Token          token.Token        // পদ্ধতি token
    Name           *Identifier        // method name
    Access         AccessModifier     // access level
    IsStatic       bool               // স্থির (static)
    IsFinal        bool               // চূড়ান্ত (final)
    IsAbstract     bool               // বিমূর্ত (abstract)
    IsOverride     bool               // পুনর্সংজ্ঞা (override)
    Parameters     []*Identifier      // parameter names
    ParameterTypes []*TypeAnnotation  // parameter types
    ReturnType     *TypeAnnotation    // return type
    Body           *BlockStatement    // method body
}
```

**Examples**:

```bhasa
// Public instance method
সার্বজনীন পদ্ধতি বলো(বার্তা: লেখা): লেখা {
    ফেরত "হ্যালো, " + বার্তা;
}

// Static method
সার্বজনীন স্থির পদ্ধতি নতুন_আইডি(): পূর্ণসংখ্যা {
    ফেরত গণনা + 1;
}

// Abstract method (no body)
বিমূর্ত পদ্ধতি গণনা_করো(): পূর্ণসংখ্যা;

// Override method
পুনর্সংজ্ঞা পদ্ধতি প্রদর্শন(): লেখা {
    ফেরত "ওভাররাইড করা হয়েছে";
}

// Final method (cannot be overridden)
চূড়ান্ত পদ্ধতি চূড়ান্ত_পদক্ষেপ(): শূন্য {
    // Cannot be overridden in child classes
}
```

---

### ConstructorDefinition

Represents a class constructor using the `নির্মাতা` (nirmata - "constructor") keyword.

```go
type ConstructorDefinition struct {
    Token          token.Token        // নির্মাতা token
    Access         AccessModifier     // access level
    Parameters     []*Identifier      // parameter names
    ParameterTypes []*TypeAnnotation  // parameter types
    Body           *BlockStatement    // constructor body
}
```

**Example**:

```bhasa
সার্বজনীন নির্মাতা(নাম: লেখা, বয়স: পূর্ণসংখ্যা) {
    এই.নাম = নাম;
    এই.বয়স = বয়স;
}
```

---

### ClassDefinition

Represents a class definition using the `শ্রেণী` (shreni - "class") keyword.

```go
type ClassDefinition struct {
    Token        token.Token              // শ্রেণী token
    Name         *Identifier              // class name
    IsAbstract   bool                     // বিমূর্ত (abstract)
    IsFinal      bool                     // চূড়ান্ত (final)
    SuperClass   *Identifier              // parent class (প্রসারিত)
    Interfaces   []*Identifier            // interfaces (বাস্তবায়ন)
    Fields       []*ClassField            // fields
    Constructors []*ConstructorDefinition // constructors
    Methods      []*MethodDefinition      // methods
}
```

**Examples**:

```bhasa
// Simple class
শ্রেণী ব্যক্তি {
    সার্বজনীন নাম: লেখা;
    ব্যক্তিগত বয়স: পূর্ণসংখ্যা;
    
    সার্বজনীন নির্মাতা(নাম: লেখা, বয়স: পূর্ণসংখ্যা) {
        এই.নাম = নাম;
        এই.বয়স = বয়স;
    }
    
    সার্বজনীন পদ্ধতি বলো(): শূন্য {
        দেখাও("আমার নাম " + এই.নাম);
    }
}

// Inheritance
শ্রেণী ছাত্র প্রসারিত ব্যক্তি {
    সার্বজনীন রোল: পূর্ণসংখ্যা;
    
    পুনর্সংজ্ঞা পদ্ধতি বলো(): শূন্য {
        দেখাও("আমি একজন ছাত্র");
    }
}

// Abstract class
বিমূর্ত শ্রেণী আকার {
    বিমূর্ত পদ্ধতি ক্ষেত্রফল(): দশমিক;
    বিমূর্ত পদ্ধতি পরিসীমা(): দশমিক;
}

// Final class (cannot be extended)
চূড়ান্ত শ্রেণী সিলড_ক্লাস {
    // Cannot be inherited
}

// Implements interface
শ্রেণী বার্তাপ্রেরক বাস্তবায়ন যোগাযোগ {
    সার্বজনীন পদ্ধতি বার্তা_পাঠাও(টেক্সট: লেখা): শূন্য {
        দেখাও(টেক্সট);
    }
}
```

**String Output**: `শ্রেণী ব্যক্তি { ... }`

---

### InterfaceMethod

Represents a method signature in an interface.

```go
type InterfaceMethod struct {
    Name           *Identifier        // method name
    Parameters     []*Identifier      // parameter names
    ParameterTypes []*TypeAnnotation  // parameter types
    ReturnType     *TypeAnnotation    // return type
}
```

---

### InterfaceDefinition

Represents an interface definition using the `চুক্তি` (chukti - "contract/interface") keyword.

```go
type InterfaceDefinition struct {
    Token   token.Token        // চুক্তি token
    Name    *Identifier        // interface name
    Methods []*InterfaceMethod // method signatures
}
```

**Example**:

```bhasa
চুক্তি যোগাযোগ {
    পদ্ধতি বার্তা_পাঠাও(বার্তা: লেখা): শূন্য;
    পদ্ধতি বার্তা_গ্রহণ(): লেখা;
}

চুক্তি হিসাবযোগ্য {
    পদ্ধতি যোগ(অন্য: পূর্ণসংখ্যা): পূর্ণসংখ্যা;
    পদ্ধতি বিয়োগ(অন্য: পূর্ণসংখ্যা): পূর্ণসংখ্যা;
}
```

**String Output**: `চুক্তি যোগাযোগ { ... }`

---

### NewExpression

Represents creating a new class instance using the `নতুন` (notun - "new") keyword.

```go
type NewExpression struct {
    Token     token.Token   // নতুন token
    ClassName *Identifier   // class name
    Arguments []Expression  // constructor arguments
}
```

**Example**:

```bhasa
ধরি ব্যক্তি = নতুন ব্যক্তি("রহিম", 30);
ধরি ছাত্র = নতুন ছাত্র("করিম", 20, 101);
```

**String Output**: `নতুন ব্যক্তি("রহিম", 30)`

---

### ThisExpression

Represents a reference to the current object using the `এই` (ei - "this") keyword.

```go
type ThisExpression struct {
    Token token.Token  // এই token
}
```

**Example**:

```bhasa
শ্রেণী ব্যক্তি {
    সার্বজনীন নাম: লেখা;
    
    সার্বজনীন পদ্ধতি সেট_নাম(নাম: লেখা): শূন্য {
        এই.নাম = নাম;  // ThisExpression
    }
}
```

**String Output**: `এই`

---

### SuperExpression

Represents a reference to the parent class using the `উর্ধ্ব` (urdhbo - "super/upper") keyword.

```go
type SuperExpression struct {
    Token token.Token  // উর্ধ্ব token
}
```

**Example**:

```bhasa
শ্রেণী ছাত্র প্রসারিত ব্যক্তি {
    পুনর্সংজ্ঞা পদ্ধতি বলো(): শূন্য {
        উর্ধ্ব.বলো();  // Call parent method
        দেখাও("আমি ছাত্র");
    }
}
```

**String Output**: `উর্ধ্ব`

---

### MethodCallExpression

Represents calling a method on an object or class.

```go
type MethodCallExpression struct {
    Token      token.Token   // . token
    Object     Expression    // object/class
    MethodName *Identifier   // method name
    Arguments  []Expression  // method arguments
}
```

**Examples**:

```bhasa
// Instance method call
ব্যক্তি.বলো("হ্যালো");

// Static method call
ব্যক্তি.নতুন_আইডি();

// Chained method calls
ব্যক্তি.সেট_নাম("রহিম").সেট_বয়স(30).প্রদর্শন();

// This method call
এই.গণনা_করো(5, 10);

// Super method call
উর্ধ্ব.ইনিশিয়ালাইজ();
```

**String Output**: `ব্যক্তি.বলো("হ্যালো")`

---

## Bengali Keywords Reference

### Core Keywords

| Bengali | Transliteration | English | Usage |
|---------|----------------|---------|-------|
| ধরি | dhari | let/var | Variable declaration |
| ফেরত | pherat | return | Return statement |
| অন্তর্ভুক্ত | antorbhukto | include/import | Import modules |
| যদি | jodi | if | Conditional |
| নাহলে | nahole | else | Else clause |
| সত্য | satya | true | Boolean true |
| মিথ্যা | mithya | false | Boolean false |
| ফাংশন | phanshan | function | Function definition |

### Loop Keywords

| Bengali | Transliteration | English | Usage |
|---------|----------------|---------|-------|
| যতক্ষণ | jotokhon | while | While loop |
| পর্যন্ত | porjonto | for/until | For loop |
| বিরতি | biroti | break | Break statement |
| চালিয়ে_যাও | chaliye_jao | continue | Continue statement |

### Type Keywords

| Bengali | Transliteration | English | Type |
|---------|----------------|---------|------|
| পূর্ণসংখ্যা | purnosongkha | integer | Integer type |
| দশমিক | doshomik | float | Float type |
| লেখা | lekha | string | String type |
| বুলিয়ান | boolean | boolean | Boolean type |
| বাইট | byte | byte | Byte type |
| তালিকা | talika | list/array | Array type |
| ম্যাপ | map | map | Hash map type |
| শূন্য | shunno | void/null | Void/null type |

### Struct/Enum Keywords

| Bengali | Transliteration | English | Usage |
|---------|----------------|---------|-------|
| স্ট্রাক্ট | struct | struct | Struct definition |
| গণনা | gonona | enum | Enum definition |

### OOP Keywords

| Bengali | Transliteration | English | Usage |
|---------|----------------|---------|-------|
| শ্রেণী | shreni | class | Class definition |
| চুক্তি | chukti | interface | Interface definition |
| নির্মাতা | nirmata | constructor | Constructor method |
| পদ্ধতি | poddhoti | method | Method definition |
| নতুন | notun | new | Create new instance |
| এই | ei | this | Current object |
| উর্ধ্ব | urdhbo | super | Parent class |

### Access Modifiers

| Bengali | Transliteration | English | Access |
|---------|----------------|---------|--------|
| সার্বজনীন | sarbojônin | public | Public access |
| ব্যক্তিগত | byoktigôto | private | Private access |
| সুরক্ষিত | surokhito | protected | Protected access |

### Class Modifiers

| Bengali | Transliteration | English | Usage |
|---------|----------------|---------|-------|
| বিমূর্ত | bimurto | abstract | Abstract class/method |
| চূড়ান্ত | chudanto | final | Final class/method/field |
| স্থির | sthir | static | Static field/method |
| প্রসারিত | prosharito | extends | Class inheritance |
| বাস্তবায়ন | bastobаyon | implements | Interface implementation |
| পুনর্সংজ্ঞা | punorshôngga | override | Method override |

---

## AST Traversal and Evaluation

### String Representation

Every node implements the `String()` method which converts the AST back to source code. This is useful for:

- **Debugging**: Visualize the parsed structure
- **Pretty-printing**: Format code
- **Code generation**: Generate source from AST
- **Testing**: Verify parsing correctness

### Token Preservation

Each node stores its originating token, which includes:

- **Line number**: For error reporting
- **Column number**: For precise error location
- **Literal value**: Original source text

This enables high-quality error messages:

```
Error at line 10, column 5:
    যদি (x = 5) {
         ^
Expected comparison operator ==, found assignment =
```

---

## Best Practices

### When Creating AST Nodes

1. **Always set the Token field**: Required for error reporting
2. **Validate child nodes**: Ensure all required children are present
3. **Use nil for optional fields**: Type annotations, else clauses, etc.
4. **Preserve order**: Use slices for ordered elements, maps for unordered

### When Traversing the AST

1. **Check for nil**: Optional fields may be nil
2. **Use type assertions carefully**: Check types before casting
3. **Handle all node types**: Exhaustive pattern matching
4. **Respect scope boundaries**: Track symbol tables for each block

### When Evaluating the AST

1. **Evaluate children first**: Bottom-up evaluation
2. **Handle errors gracefully**: Return error objects, not panics
3. **Track context**: Current scope, this/super references
4. **Validate types**: Type checking before operations

---

## Examples

### Complete Program AST

**Bhasa Source**:

```bhasa
ধরি x: পূর্ণসংখ্যা = 5;

ধরি যোগ = ফাংশন(a: পূর্ণসংখ্যা, b: পূর্ণসংখ্যা): পূর্ণসংখ্যা {
    ফেরত a + b;
};

দেখাও(যোগ(x, 10));
```

**AST Structure**:

```
Program
├─ LetStatement (x)
│  ├─ Name: Identifier("x")
│  ├─ TypeAnnot: TypeAnnotation("পূর্ণসংখ্যা")
│  └─ Value: IntegerLiteral(5)
│
├─ LetStatement (যোগ)
│  ├─ Name: Identifier("যোগ")
│  └─ Value: FunctionLiteral
│     ├─ Parameters: [Identifier("a"), Identifier("b")]
│     ├─ ParameterTypes: [TypeAnnotation("পূর্ণসংখ্যা"), TypeAnnotation("পূর্ণসংখ্যা")]
│     ├─ ReturnType: TypeAnnotation("পূর্ণসংখ্যা")
│     └─ Body: BlockStatement
│        └─ ReturnStatement
│           └─ ReturnValue: InfixExpression
│              ├─ Left: Identifier("a")
│              ├─ Operator: "+"
│              └─ Right: Identifier("b")
│
└─ ExpressionStatement
   └─ Expression: CallExpression
      ├─ Function: Identifier("দেখাও")
      └─ Arguments: [CallExpression]
         ├─ Function: Identifier("যোগ")
         └─ Arguments: [Identifier("x"), IntegerLiteral(10)]
```

### Class with Methods

**Bhasa Source**:

```bhasa
শ্রেণী ব্যক্তি {
    সার্বজনীন নাম: লেখা;
    ব্যক্তিগত বয়স: পূর্ণসংখ্যা;
    
    সার্বজনীন নির্মাতা(নাম: লেখা, বয়স: পূর্ণসংখ্যা) {
        এই.নাম = নাম;
        এই.বয়স = বয়স;
    }
    
    সার্বজনীন পদ্ধতি বলো(): শূন্য {
        দেখাও("হ্যালো, আমার নাম " + এই.নাম);
    }
}

ধরি রহিম = নতুন ব্যক্তি("রহিম", 30);
রহিম.বলো();
```

**AST Structure**:

```
Program
├─ ClassDefinition (ব্যক্তি)
│  ├─ Name: Identifier("ব্যক্তি")
│  ├─ Fields:
│  │  ├─ ClassField(নাম, লেখা, PUBLIC)
│  │  └─ ClassField(বয়স, পূর্ণসংখ্যা, PRIVATE)
│  ├─ Constructors:
│  │  └─ ConstructorDefinition
│  │     ├─ Access: PUBLIC
│  │     ├─ Parameters: [Identifier("নাম"), Identifier("বয়স")]
│  │     ├─ ParameterTypes: [TypeAnnotation("লেখা"), TypeAnnotation("পূর্ণসংখ্যা")]
│  │     └─ Body: BlockStatement
│  │        ├─ MemberAssignmentStatement (this.নাম = নাম)
│  │        └─ MemberAssignmentStatement (this.বয়স = বয়স)
│  └─ Methods:
│     └─ MethodDefinition (বলো)
│        ├─ Access: PUBLIC
│        ├─ ReturnType: TypeAnnotation("শূন্য")
│        └─ Body: BlockStatement
│           └─ ExpressionStatement
│              └─ CallExpression("দেখাও")
│
├─ LetStatement (রহিম)
│  └─ Value: NewExpression
│     ├─ ClassName: Identifier("ব্যক্তি")
│     └─ Arguments: [StringLiteral("রহিম"), IntegerLiteral(30)]
│
└─ ExpressionStatement
   └─ MethodCallExpression
      ├─ Object: Identifier("রহিম")
      ├─ MethodName: Identifier("বলো")
      └─ Arguments: []
```

---

## Conclusion

The Bhasa AST is a comprehensive representation of the language's syntax, supporting:

- ✅ **Basic programming constructs**: Variables, functions, control flow
- ✅ **Type system**: Type annotations, type casting
- ✅ **Data structures**: Arrays, hash maps, structs, enums
- ✅ **Object-oriented programming**: Classes, interfaces, inheritance, polymorphism
- ✅ **Bengali-first syntax**: All keywords and types in Bengali

This AST serves as the foundation for the interpreter, compiler, and all language tooling for Bhasa.

